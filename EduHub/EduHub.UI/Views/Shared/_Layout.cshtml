@using EduHub.Domain.Constants
@using EduHub.Domain.Entities
@using Microsoft.AspNetCore.Identity
@inject SignInManager<User> SignInManager;

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>EduHUB</title>
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true"/>
    <link rel="stylesheet" href="~/EduHub.UI.styles.css" asp-append-version="true"/>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">

       <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css"/>

</head>
<body>
<header>

<nav class="navbar navbar-expand-lg  bg-whitegrey">
  <div class="container-fluid">

    <div class="logo fs-12">
        <span class="logo-fg">Edu</span><span class="logo-bg">HUB</span>
    </div>

    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    @if (User.IsInRole(RoleConstants.TeacherRole))
                    {
                        <li class="nav-item">
                            <a class="nav-link " asp-area="" asp-controller="Course" asp-action="TeachersCourses">Home</a>
                        </li>
                    }
                    @if (User.IsInRole(RoleConstants.StudentRole))
                    {
                        <li class="nav-item">
                            <a class="nav-link " asp-area="" asp-controller="Course" asp-action="StudentCourses">Home</a>
                        </li>
                    }         

        <li class="nav-item">
             <a class="nav-link " asp-area="" asp-controller="Home" asp-action="Privacy">Privacy</a>
        </li>
                    @if (User.IsInRole(RoleConstants.AdminRole))
                    {
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">Admin</a>
                            <div class="dropdown-menu">
                                <a class="dropdown-item" asp-area="" asp-controller="Admin" asp-action="TeachersRequests">Manage Teachers Requests</a>
                                <div class="dropdown-divider"></div>
                                <a class="dropdown-item" asp-area="" asp-controller="Admin" asp-action="Teachers">Manage Teachers </a>
                                <div class="dropdown-divider"></div>
                                <a class="dropdown-item" asp-area="" asp-controller="Admin" asp-action="Students">Manage Students </a>
                            </div>
                        </li>
                    }

        
       
      </ul>
      <form method="post" asp-controller="Home" asp-action="Search" enctype="multipart/form-data" class="form-inline d-flex">
                  <input value="@ViewData["CurrentFilter"]"  name="search"  class="form-control mt-2" type="search" placeholder="Search" aria-label="Search">
                  <input class="btn btn-outline-success me-2 mt-2" value="Search" type="submit">
      </form>
           

       <partial name="_LoginPartial"/>
    </div>
  </div>
</nav>

</header>
<div class="container mar-b " >
    <main role="main" class="pb-5 ">
        <partial name="_Notification"/>
        @RenderBody()
    </main>
</div>

<footer class=" footer1 p-3 mt-4 text-muted bg-whitegrey d-flex flex-column flex-md-row flex-lg-row justify-content-lg-between justify-content-md-between align-items-center  flex-wrap">

    <div class="ps-1"><i class="bi bi-envelope"></i> Contact site support</div>

   <div class="">
        &copy; 2023 - EduHub - <a asp-area="" asp-controller="Home" asp-action="Privacy" class="text-black">Privacy</a>
    </div>

    @if (User.IsInRole(RoleConstants.StudentRole))
    {
        <div class="pe-1">You are logged in as Student</div>
    }
    @if (User.IsInRole(RoleConstants.TeacherRole))
    {
        <div class="pe-1">You are logged in as Teacher</div>
    }
    @if (User.IsInRole(RoleConstants.AdminRole))
    {
        <div class="pe-1">You are logged in as Admin</div>
    }
</footer>
<script src="~/lib/jquery/dist/jquery.js"></script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
<script src="~/js/site.js" asp-append-version="true"></script>
@await RenderSectionAsync("Scripts", false)
</body>
</html>